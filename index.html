<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="wrap">
        <div class="pop-up create-task">

            <h2>Let's create your task</h2>

            <input type="text" placeholder="Write a name of your task" id="new-task">

            <h2 class="color-label">Choose a color</h2>

            <input type="color" value="#9BE9CB" id="task-color">

            <a class="btn" id="create_task">Create</a>

        </div>
    </div>

    <div class="main-box">

        <div class="top-section">
            <h1>Your To-Do List</h1>
            <a class="btn" id="add_new">Add New</a>
        </div>

        <hr>

        <div class="main-section">

            <div class="box">

                <h3><i class="fa-regular fa-circle-check"></i>&nbsp; Clean my Room</h3>

                <div class="box-slide">
                    <input type="range" min="0" max="120" value="0" class="selector">
                    <div class="displayer"></div>
                </div>

                <div class="buttons">
                    <a class="btn green">Edit</a>
                    <a class="btn red" id="delete">Delete</a>
                </div>

            </div>

            <div class="box">

                <h3><i class="fa-regular fa-circle-check"></i>&nbsp;Sleep</h3>

                <div class="box-slide">
                    <input type="range" min="0" max="120" value="0" class="selector" id="red-track">
                    <div class="displayer red-track"></div>
                </div>

                <div class="buttons">
                    <a class="btn green">Edit</a>
                    <a class="btn red" id="delete">Delete</a>
                </div>

            </div>

            <div class="box">

                <h3><i class="fa-regular fa-circle-check"></i>&nbsp;Clean my Room</h3>

                <div class="box-slide">
                    <input type="range" min="0" max="120" value="0" class="selector" id="blue-track">
                    <div class="displayer blue-track"></div>
                </div>

                <div class="buttons">
                    <a class="btn green">Edit</a>
                    <a class="btn red" id="delete">Delete</a>
                </div>

            </div>

            <div class="box">

                <h3><i class="fa-regular fa-circle-check"></i>&nbsp;Clean my Room</h3>

                <div class="box-slide">
                    <input type="range" min="0" max="120" value="0" class="selector" id="green-track">
                    <div class="displayer green-track"></div>
                </div>

                <div class="buttons">
                    <a class="btn green">Edit</a>
                    <a class="btn red" id="delete">Delete</a>
                </div>

            </div>

            <div class="box">

                <h3><i class="fa-regular fa-circle-check"></i>&nbsp;Clean my Room</h3>

                <div class="box-slide">
                    <input type="range" min="0" max="120" value="0" class="selector" id="purple-track">
                    <div class="displayer purple-track"></div>
                </div>

                <div class="buttons">
                    <a class="btn green" id="edit">Edit</a>
                    <a class="btn red" id="delete">Delete</a>
                </div>

            </div>

            <div class="box">

                <h3><i class="fa-regular fa-circle-check"></i>&nbsp;Clean my Room</h3>

                <div class="box-slide">
                    <input type="range" min="0" max="120" value="0" class="selector" id="yellow-track">
                    <div class="displayer yellow-track"></div>
                </div>

                <div class="buttons">
                    <a class="btn green">Edit</a>
                    <a class="btn red" id="delete">Delete</a>
                </div>

            </div>

        </div>




    </div>

    <script src="https://kit.fontawesome.com/f92c750d9a.js" crossorigin="anonymous"></script>
    <script>

        setInterval(function () {
            for (let i = 0; i < document.querySelectorAll(".selector").length; i++) {

                document.querySelectorAll(".selector")[i].oninput = function () {
                    var valueIn = this.value
                    var allValues
                    allValues = valueIn
                    console.log(allValues)

                    document.querySelectorAll(".displayer")[i].style.width = allValues * 2.5 + "px"

                }

            }

        }, 500)

        /*   Delete   */

        let delete_btns = document.querySelectorAll("#delete")

        let deletes = delete_btns.length

        function delete_btn(length) {
            for (let i = 0; i < length; i++) {
                console.log(delete_btns[i])
                document.querySelectorAll("#delete")[i].addEventListener("click", function () {
                    document.querySelectorAll(".box")[i].style.opacity = "0"
                    document.querySelectorAll(".box")[i].style.transform = "translateX(100%)"
                    setTimeout(function () {
                        document.querySelectorAll(".box")[i].style.display = "none"
                    }, 500)
                })
            }
        }

        delete_btn(delete_btns.length)

        /*   Create   */

        let new_task_color = document.querySelector("#task-color")
        let task_progress = document.querySelector("#task-progress")
        let create = document.querySelector('#create_task')
        let main_box = document.querySelector(".main-section")



        create.addEventListener("click", function () {
            let new_task = document.querySelector("#new-task")

            let task = document.createElement('div')
            task.classList.add('box')
            main_box.append(task)
            /*   Box Content   */
            let heading = document.createElement('h3')
            heading.innerHTML = '<i class="fa-regular fa-circle-check"></i>&nbsp;' + new_task.value
            task.append(heading)
            /*   Box Slide   */
            let slider_box = document.createElement('div')
            slider_box.classList.add('box-slide')
            let input_color = document.createElement('input')
            input_color.setAttribute('type', 'range')
            input_color.setAttribute('min', '0')
            input_color.setAttribute('max', '120')
            input_color.setAttribute('value', '0')
            input_color.setAttribute('type', 'range')
            input_color.classList.add('selector')
            task.append(slider_box)
            slider_box.append(input_color)
            /*   Input   */
            let color = document.querySelector('#task-color')
            /*   Displayer   */
            let displayer = document.createElement('div')
            displayer.classList.add('displayer')
            /*   Displayer Color   */
            displayer.style.backgroundColor = color.value
            slider_box.append(displayer)
            /*   Buttons*/
            let buttons = document.createElement('div')
            buttons.classList.add('buttons')
            task.append(buttons)
            let red = document.createElement('a')
            red.classList.add('red', 'btn')
            red.setAttribute('id', 'delete')
            red.innerHTML = "Delete"
            let green = document.createElement('a')
            green.classList.add('green', 'btn')
            green.innerHTML = 'Edit'
            buttons.append(green, red)

            document.querySelector('.wrap').style.display = 'none'
            delete_btn(delete_btns.length + 1)
        })

        /*   New Task Btn   */
        document.querySelector('#add_new').addEventListener('click', function () {
            document.querySelector('.wrap').style.display = 'inline-block'
        })

    </script>

</body>

</html>